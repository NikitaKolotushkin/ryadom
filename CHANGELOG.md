# Changelog

Все существенные изменения в проекте будут задокументированы в этом файле.

Форматирование основано на [Keep a Changelog](https://keepachangelog.com/ru/1.1.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org).

## [Unreleased]

## [1.1.0] - 2025-09-09

### Added

- Добавлено перенаправление для /api/ на edge-router:8080
- Добавлены переменные окружения MAPS_SERVICE_PORT и MAPS_SERVICE_URL
- Добавлен сервис ryadom_maps для работы с картами
- Реализовано API взаимодействия с микросервисом ryadom_maps
- Создан микросервис для взаимодействия с API Яндекс-карт и геокодера
- Добавлен шаблон footer'а со стилями и медиазапросами
- Добавлены логотипы, контактная почта и информация о команде в footer
 
### Fixed

- Исправлен путь проксирования для /api/ (множественные итерации)
- Исправлены модели данных в функции add_member_to_event
- Исправлено название функции add_member_to_event на add_member_to_event_from_event_service
- Устранен ненужный параметр в запросе к геокодеру
- Исправлена валидация типов данных и формат ответа функции get_static_map_url_by_coordinates()
- Устранена ошибка передачи аргументов в модель StaticMapResponse
- Удалены ненужные стили блока с картой
- Исправлено название функции получения URL карты по координатам в Swagger API
- Уточнены тексты исключений в обработчиках ошибок

### Security

- Удалены API-ключи из публичного доступа, настроено безопасное обращение к микросервису ryadom_maps

### Removed

- Удалены команды для создания фейковых сертификатов (откат предыдущего функционала)

## [1.0.1] - 2025-09-06

### Added

- Разделение на dev/prod режими работы
- Единый конфигурационный файл приложения

### Fixed

- Убрана возможность неавторизованного подключения домена к серверу


## [1.0] - 2025-09-05

### Added

- Хранение API-ключей в .env файле для изоляции секретов от кодовой базы (вместо жесткой прописи в коде).
- Механизм сортировки событий на предстоящие и прошедшие с поддержкой архивных событий.
- Отображение организаторов и участников событий через новые эндпоинты /events/{id}/members/.
- Тримминг текста для названий событий и описаний (устранение переполнения интерфейса).
- Скрипты для получения координат по адресу.
- Отображение карты на странице события.
- Исправление обработки API-ключей и форматирования URL.
- Слайдер предстоящих событий на главной странице.
- Стилизация страниц входа и регистрации с адаптивными медиа-запросами.
- Человекочитаемые даты вместо технических меток времени.
- Настройка SSL-сертификатов через Certbot и обновление конфигурации Nginx.
- Удаление ненужных файлов (Let's Encrypt, тестовые конфиги) для минимизации attack surface.

### Fixed

- Исправление обработки API-ключей в URL (утечка данных через логи).
- Устранение ошибки округления сумм в платежных операциях (сервис ryadom_payment).
- Восстановление работы фильтров при пустых запросах.
- Исправление отображения адреса события и работы с архивными записями.
- Удаление мусорных данных из конфигурационных файлов (устаревшие URL, тестовые креды).
- Поддержка обратной совместимости с мобильным приложением через сохранение /v1/ эндпоинтов.
- Исправление типов данных (например, user_id теперь int вместо str).

### Removed

- Устаревшие конфигурационные файлы и тестовые данные.
- Жестко закодированные API-ключи из кодовой базы.
- Ненужные зависимости (например, временные модули для отладки).

[unreleased]: https://github.com/NikitaKolotushkin/ryadom/compare/v1.1.0...HEAD
[1.1.0]: https://github.com/NikitaKolotushkin/ryadom/compare/v1.0.1...v1.1.0
[1.0.1]: https://github.com/NikitaKolotushkin/ryadom/compare/v1.0...v1.0.1
[1.0]: https://github.com/NikitaKolotushkin/ryadom/releases/tag/v1.0